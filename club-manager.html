<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Club Manager">
<meta name="theme-color" content="#1B5E20">
<link rel="manifest" href="manifest-cm.json">
<link rel="apple-touch-icon" href="data:image/png;base64,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">
<link rel="icon" type="image/png" href="data:image/png;base64,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">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>Club Manager Pro</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;600;700;900&family=Barlow:wght@400;500;600&display=swap');
:root {
  --bg:#0a0e1a; --surface:#111827; --surface2:#1a2235; --border:#1e2d45;
  --accent:#00d4ff; --accent2:#ff6b35; --green:#00e676; --red:#ff4444;
  --yellow:#ffd600; --text:#e8edf5; --muted:#5a6a82;
  --cp:#00d4ff; --cs:#111827;
  --fd:'Barlow Condensed',sans-serif; --fb:'Barlow',sans-serif;
}
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent;}
body{background:var(--bg);color:var(--text);font-family:var(--fb);min-height:100vh;max-width:640px;margin:0 auto;padding-bottom:100px;}

/* SCREENS */
.screen{display:none;} .screen.active{display:block;}

/* SELECTOR */
#screenSelector{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:24px;gap:16px;background:radial-gradient(ellipse at top,#0d1a2e,var(--bg));}
.app-title{font-family:var(--fd);font-size:32px;font-weight:900;letter-spacing:4px;color:var(--cp);text-align:center;}
.app-sub{font-family:var(--fd);font-size:13px;color:var(--muted);letter-spacing:2px;text-align:center;margin-top:-8px;}
.club-cards-wrap{width:100%;max-width:420px;display:flex;flex-direction:column;gap:12px;}
.club-sel-card{background:var(--surface);border:2px solid var(--border);border-radius:16px;padding:18px;cursor:pointer;display:flex;align-items:center;gap:14px;transition:all .2s;}
.club-sel-card.chosen{border-color:var(--cp);}
.club-sel-card:active{transform:scale(.97);}
.club-thumb{width:54px;height:54px;border-radius:12px;background:var(--surface2);display:flex;align-items:center;justify-content:center;font-size:26px;flex-shrink:0;overflow:hidden;}
.club-thumb img{width:100%;height:100%;object-fit:contain;}
.club-sel-name{font-family:var(--fd);font-size:20px;font-weight:900;letter-spacing:1px;}
.club-sel-fmt{font-family:var(--fd);font-size:11px;color:var(--muted);letter-spacing:1px;margin-top:2px;}
.club-sel-cnt{font-family:var(--fd);font-size:12px;margin-top:3px;}
.btn-enter{width:100%;max-width:420px;padding:16px;border:none;border-radius:14px;font-family:var(--fd);font-size:16px;font-weight:900;letter-spacing:2px;cursor:pointer;background:linear-gradient(135deg,var(--cp),#0090aa);color:#000;transition:all .2s;}
.btn-add-club{width:100%;max-width:420px;padding:14px;border:2px dashed var(--border);border-radius:14px;background:none;color:var(--muted);font-family:var(--fd);font-size:14px;font-weight:700;letter-spacing:1px;cursor:pointer;}

/* HEADER */
.hdr{background:linear-gradient(135deg,#0d1525,#111827);border-bottom:2px solid var(--cp);padding:10px 14px;position:sticky;top:0;z-index:200;display:flex;align-items:center;gap:10px;}
.hdr-logo{width:38px;height:38px;border-radius:8px;background:var(--surface2);display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0;overflow:hidden;}
.hdr-logo img{width:100%;height:100%;object-fit:contain;}
.hdr-info{flex:1;}
.hdr-name{font-family:var(--fd);font-size:18px;font-weight:900;letter-spacing:1px;color:var(--cp);}
.hdr-sub{font-family:var(--fd);font-size:10px;color:var(--muted);letter-spacing:1px;margin-top:1px;}
.btn-switch{background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:6px 10px;color:var(--muted);font-family:var(--fd);font-size:11px;font-weight:700;cursor:pointer;}

/* TABS */
.tabs{display:flex;background:var(--surface);border-bottom:1px solid var(--border);overflow-x:auto;scrollbar-width:none;}
.tabs::-webkit-scrollbar{display:none;}
.tab{flex:1;min-width:72px;padding:11px 4px;border:none;background:none;color:var(--muted);font-family:var(--fd);font-size:11px;font-weight:700;letter-spacing:1px;text-transform:uppercase;cursor:pointer;border-bottom:3px solid transparent;transition:all .2s;white-space:nowrap;}
.tab.active{color:var(--cp);border-bottom-color:var(--cp);}

/* PANELS */
.panel{display:none;padding:12px;}
.panel.active{display:block;}
.sec{font-family:var(--fd);font-size:11px;font-weight:700;letter-spacing:2px;color:var(--muted);text-transform:uppercase;margin:14px 0 8px;border-left:3px solid var(--cp);padding-left:8px;}

/* PLAYER CARD */
.pcard{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:12px;margin-bottom:8px;cursor:pointer;transition:all .15s;}
.pcard:active{transform:scale(.98);}
.pcard.injured{border-left:4px solid var(--red);}
.pcard.unavailable{border-left:4px solid var(--yellow);}
.pcard.suspended{border-left:4px solid var(--accent2);}
.pcard-top{display:flex;align-items:center;gap:10px;}
.pnum{font-family:var(--fd);font-size:24px;font-weight:900;color:var(--cp);min-width:34px;text-align:center;}
.pname-block{flex:1;}
.pfullname{font-family:var(--fd);font-size:17px;font-weight:700;}
.pmeta{font-family:var(--fb);font-size:11px;color:var(--muted);margin-top:2px;}
.pbadge{font-family:var(--fd);font-size:10px;font-weight:700;letter-spacing:1px;padding:3px 8px;border-radius:6px;white-space:nowrap;}
.b-ok{background:rgba(0,230,118,.12);color:var(--green);border:1px solid rgba(0,230,118,.25);}
.b-injured{background:rgba(255,68,68,.12);color:var(--red);border:1px solid rgba(255,68,68,.25);}
.b-unavailable{background:rgba(255,214,0,.12);color:var(--yellow);border:1px solid rgba(255,214,0,.25);}
.b-suspended{background:rgba(255,107,53,.12);color:var(--accent2);border:1px solid rgba(255,107,53,.25);}
.pstats-mini{display:flex;gap:8px;margin-top:8px;padding-top:8px;border-top:1px solid var(--border);}
.psm{text-align:center;flex:1;}
.psm-v{font-family:var(--fd);font-size:16px;font-weight:900;}
.psm-l{font-family:var(--fd);font-size:9px;color:var(--muted);letter-spacing:1px;}

/* FICHE D√âTAILL√âE */
.sheet-hdr{display:flex;align-items:center;gap:14px;padding:16px;background:var(--surface);border-radius:14px;margin-bottom:12px;}
.sheet-num{font-family:var(--fd);font-size:52px;font-weight:900;color:var(--cp);line-height:1;min-width:64px;text-align:center;}
.sheet-id{flex:1;}
.sheet-name{font-family:var(--fd);font-size:22px;font-weight:900;letter-spacing:1px;}
.sheet-pos{font-family:var(--fd);font-size:13px;color:var(--muted);letter-spacing:1px;margin-top:3px;}
.sheet-age{font-family:var(--fd);font-size:12px;color:var(--accent2);margin-top:3px;}
.stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:12px;}
.sbox{background:var(--surface);border-radius:10px;padding:10px;text-align:center;}
.sbox-v{font-family:var(--fd);font-size:26px;font-weight:900;color:var(--cp);}
.sbox-l{font-family:var(--fd);font-size:9px;color:var(--muted);letter-spacing:1px;margin-top:2px;}
.info-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:12px;}
.ibox{background:var(--surface);border-radius:8px;padding:9px 11px;}
.ibox.wide{grid-column:span 2;}
.ilbl{font-family:var(--fd);font-size:9px;color:var(--muted);letter-spacing:1px;text-transform:uppercase;}
.ival{font-family:var(--fb);font-size:13px;font-weight:600;margin-top:3px;}
.ival a{color:var(--cp);text-decoration:none;}

/* FORMS */
.fsec{background:var(--surface);border-radius:12px;padding:14px;margin-bottom:10px;}
.fsec-title{font-family:var(--fd);font-size:11px;font-weight:700;letter-spacing:2px;color:var(--accent2);text-transform:uppercase;margin-bottom:10px;}
.ilabel{font-family:var(--fd);font-size:11px;color:var(--muted);letter-spacing:1px;text-transform:uppercase;margin-bottom:4px;display:block;}
.ifield{width:100%;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:10px 12px;color:var(--text);font-family:var(--fb);font-size:14px;outline:none;-webkit-appearance:none;appearance:none;}
.ifield:focus{border-color:var(--cp);}
.irow{margin-bottom:10px;}
.i2{display:grid;grid-template-columns:1fr 1fr;gap:8px;}
.tag-row{display:flex;gap:6px;flex-wrap:wrap;}
.tag{background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:7px 12px;color:var(--text);font-family:var(--fd);font-size:12px;font-weight:700;letter-spacing:.5px;cursor:pointer;transition:all .15s;}
.tag.sel{background:rgba(0,212,255,.18);border-color:var(--cp);color:var(--cp);}
.tag:active{transform:scale(.94);}

/* BUTTONS */
.btn-p{width:100%;padding:14px;border:none;border-radius:12px;font-family:var(--fd);font-size:15px;font-weight:900;letter-spacing:1px;cursor:pointer;background:linear-gradient(135deg,var(--cp),#0090aa);color:#000;margin-bottom:8px;}
.btn-s{width:100%;padding:12px;border:1px solid var(--border);border-radius:12px;font-family:var(--fd);font-size:14px;font-weight:700;letter-spacing:1px;cursor:pointer;background:var(--surface2);color:var(--text);margin-bottom:8px;}
.btn-d{width:100%;padding:12px;border:1px solid rgba(255,68,68,.3);border-radius:12px;font-family:var(--fd);font-size:14px;font-weight:700;letter-spacing:1px;cursor:pointer;background:rgba(255,68,68,.1);color:var(--red);}

/* MODALS */
.modal-ov{display:none;position:fixed;inset:0;background:rgba(0,0,0,.72);z-index:500;align-items:flex-end;justify-content:center;}
.modal-ov.open{display:flex;}
.modal{background:var(--surface);border-radius:20px 20px 0 0;padding:20px;width:100%;max-width:640px;max-height:90vh;overflow-y:auto;}
.modal-title{font-family:var(--fd);font-size:20px;font-weight:900;letter-spacing:1px;margin-bottom:16px;color:var(--cp);}
.modal-btns{display:flex;gap:8px;margin-top:14px;}
.btn-mc{flex:1;padding:12px;border:1px solid var(--border);border-radius:10px;background:var(--surface2);color:var(--text);font-family:var(--fd);font-size:14px;font-weight:700;cursor:pointer;}
.btn-mk{flex:2;padding:12px;border:none;border-radius:10px;background:var(--cp);color:#000;font-family:var(--fd);font-size:14px;font-weight:900;cursor:pointer;}

/* RANKING */
.rank-row{display:flex;align-items:center;gap:10px;padding:9px 0;border-bottom:1px solid var(--border);cursor:pointer;}
.rank-pos{font-family:var(--fd);font-size:18px;font-weight:900;color:var(--muted);min-width:30px;}
.rank-pos.gold{color:var(--yellow);}
.rank-name{flex:1;font-family:var(--fd);font-size:15px;font-weight:700;}
.rank-val{font-family:var(--fd);font-size:20px;font-weight:900;color:var(--cp);}

/* INJURY */
.inj-card{background:var(--surface);border:1px solid rgba(255,68,68,.25);border-radius:10px;padding:11px 13px;margin-bottom:7px;display:flex;align-items:flex-start;gap:10px;}
.inj-info{flex:1;}
.inj-name{font-family:var(--fd);font-size:15px;font-weight:700;margin-bottom:2px;}
.inj-detail{font-family:var(--fb);font-size:11px;color:var(--muted);}
.inj-return{font-family:var(--fd);font-size:11px;color:var(--yellow);margin-top:3px;}

/* COLOR SWATCHES */
.swatch{width:38px;height:38px;border-radius:9px;border:3px solid transparent;cursor:pointer;transition:all .15s;flex-shrink:0;}
.swatch.sel{border-color:#fff;transform:scale(1.12);}

/* CLUB BANNER */
.club-banner{height:90px;border-radius:14px 14px 0 0;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;}
.club-banner-content{padding:14px;background:var(--surface);border-radius:0 0 14px 14px;margin-bottom:12px;}

.empty{text-align:center;padding:36px 16px;color:var(--muted);}
.empty-icon{font-size:38px;margin-bottom:10px;}

/* LOGO UPLOAD */
.logo-zone{border:2px dashed var(--border);border-radius:12px;padding:20px;text-align:center;cursor:pointer;transition:all .2s;margin-bottom:10px;}
.logo-zone:active{border-color:var(--cp);}
</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê √âCRAN S√âLECTION CLUB ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="screenSelector" class="screen active">
  <div class="app-title">‚öΩ CLUB MANAGER</div>
  <div class="app-sub">GESTION D'EFFECTIF PRO</div>
  <div class="club-cards-wrap" id="selectorCards"></div>
  <button class="btn-add-club" onclick="openAddClubModal()">Ôºã Cr√©er un nouveau club</button>
  <button class="btn-enter" id="btnEnter" style="display:none" onclick="enterClub()">ACC√âDER AU CLUB ‚Üí</button>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê APP CLUB ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="screenApp" class="screen">
  <div class="hdr">
    <div class="hdr-logo" id="hdrLogo">‚öΩ</div>
    <div class="hdr-info">
      <div class="hdr-name" id="hdrName">Mon Club</div>
      <div class="hdr-sub" id="hdrSub">GESTION EFFECTIF</div>
    </div>
    <button class="btn-switch" onclick="goSelector()">‚áÑ Clubs</button>
  </div>
  <div class="tabs">
    <button class="tab active" onclick="showTab('effectif',this)">üë• Effectif</button>
    <button class="tab" onclick="showTab('stats',this)">üìä Stats</button>
    <button class="tab" onclick="showTab('blessures',this);renderInjuries()">üè• Sant√©</button>
    <button class="tab" onclick="showTab('historique',this);renderClubHistorique()">üìÅ Historique</button>
  <button class="tab" onclick="showTab('config',this)">üèü Club</button>
  </div>

  <!-- EFFECTIF -->
  <div class="panel active" id="panel-effectif">
    <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px;">
      <div class="sec" style="margin:0;flex:1" id="effTitle">Effectif</div>
      <button onclick="openPlayerModal()" style="background:var(--cp);border:none;border-radius:8px;padding:7px 14px;color:#000;font-family:var(--fd);font-size:13px;font-weight:900;cursor:pointer;">Ôºã JOUEUR</button>
    </div>
    <div style="display:flex;gap:6px;flex-wrap:wrap;margin-bottom:8px;" id="catFilters">
      <button class="tag sel" onclick="setCatFilter('all',this)">Tous</button>
    </div>
    <div style="display:flex;gap:6px;margin-bottom:12px;">
      <button class="tag sel" id="sf-all" onclick="setStatusFilter('all',this)">Tous</button>
      <button class="tag" id="sf-ok" onclick="setStatusFilter('ok',this)">‚úÖ Dispos</button>
      <button class="tag" id="sf-injured" onclick="setStatusFilter('injured',this)">üî¥ Bless√©s</button>
      <button class="tag" id="sf-unavailable" onclick="setStatusFilter('unavailable',this)">üü° Indispos</button>
    </div>
    <div id="playerList"></div>
  </div>

  <!-- STATS -->
  <div class="panel" id="panel-stats">
    <div style="display:flex;align-items:center;gap:8px;margin-bottom:6px;">
      <div class="sec" style="margin:0;flex:1">Classements saison</div>
      <button onclick="forceSyncFromTracker();renderStats()" style="background:var(--surface2);border:1px solid var(--border);border-radius:7px;padding:5px 10px;color:var(--muted);font-family:var(--fd);font-size:10px;font-weight:700;cursor:pointer;letter-spacing:1px;">‚Ü∫ SYNC</button>
    </div>
    <div id="statsSyncNote" style="display:none;font-family:var(--fd);font-size:10px;color:var(--green);letter-spacing:1px;margin-bottom:8px;">‚úÖ Stats mises √† jour depuis Coach Tracker</div>
    <div style="display:flex;gap:6px;flex-wrap:wrap;margin-bottom:12px;">
      <button class="tag sel" onclick="setStatCat('buts',this)">‚öΩ Buts</button>
      <button class="tag" onclick="setStatCat('passes',this)">üéÅ Passes</button>
      <button class="tag" onclick="setStatCat('matchs',this)">üìÖ Matchs</button>
      <button class="tag" onclick="setStatCat('minutes',this)">‚è± Minutes</button>
      <button class="tag" onclick="setStatCat('tirs',this)">üéØ Tirs cadr√©s</button>
      <button class="tag" onclick="setStatCat('cartons',this)">üü® Cartons</button>
    </div>
    <div id="statsRanking"></div>
  </div>

  <!-- BLESSURES -->
  <div class="panel" id="panel-blessures">
    <div class="sec" style="margin-top:0">üî¥ Joueurs indisponibles</div>
    <div id="injuryList"></div>
    <div class="sec">D√©clarer une indisponibilit√©</div>
    <div class="fsec">
      <div class="irow"><label class="ilabel">Joueur</label><select class="ifield" id="injPlayer"></select></div>
      <div class="irow"><label class="ilabel">Type</label>
        <div class="tag-row">
          <button class="tag sel" id="it-injured" onclick="setInjType('injured','it-injured')">üî¥ Blessure</button>
          <button class="tag" id="it-unavailable" onclick="setInjType('unavailable','it-unavailable')">üü° Indispo</button>
          <button class="tag" id="it-suspended" onclick="setInjType('suspended','it-suspended')">üü† Suspendu</button>
        </div>
      </div>
      <div class="irow"><label class="ilabel">Description</label><input class="ifield" id="injDesc" type="text" placeholder="Ex: Cheville gauche, Fi√®vre..."></div>
      <div class="i2">
        <div class="irow"><label class="ilabel">Depuis le</label><input class="ifield" id="injFrom" type="date"></div>
        <div class="irow"><label class="ilabel">Retour pr√©vu</label><input class="ifield" id="injTo" type="date"></div>
      </div>
      <button class="btn-p" onclick="addInjury()">‚úì ENREGISTRER</button>
    </div>
  </div>

  <!-- HISTORIQUE -->
  <div class="panel" id="panel-historique">
    <div class="sec" style="margin-top:0" id="clubHistoTitle">Historique des matchs</div>
    <!-- Bandeau synchro -->
    <div id="syncBanner" style="display:none;background:rgba(0,230,118,.12);border:1px solid rgba(0,230,118,.3);border-radius:10px;padding:10px 12px;margin-bottom:10px;display:flex;align-items:center;gap:10px;">
      <span style="font-size:20px;">üîÑ</span>
      <div style="flex:1;">
        <div style="font-family:var(--fd);font-size:12px;font-weight:700;color:var(--green);letter-spacing:1px;">SYNCHRONIS√â AVEC COACH TRACKER</div>
        <div style="font-family:var(--fd);font-size:10px;color:var(--muted);margin-top:2px;" id="syncLastDate">Aucune sync d√©tect√©e</div>
      </div>
      <button onclick="forceSyncFromTracker()" style="background:var(--green);border:none;border-radius:7px;padding:6px 12px;color:#000;font-family:var(--fd);font-size:11px;font-weight:900;cursor:pointer;">‚Ü∫ SYNC</button>
    </div>
    <!-- Filtres -->
    <div style="display:flex;gap:6px;flex-wrap:wrap;margin-bottom:10px;" id="clubHistoFilters">
      <button class="tag sel" onclick="setClubHistoFilter('all',this)">Tous</button>
    </div>
    <!-- Stats saison depuis matchs -->
    <div id="clubHistoSeasonStats"></div>
    <!-- Liste des matchs -->
    <div id="clubHistoList"></div>
  </div>

  <!-- CONFIG CLUB -->
  <div class="panel" id="panel-config">
    <div id="clubBannerWrap">
      <div class="club-banner" id="clubBanner"><span id="bannerLogo" style="font-size:50px">‚öΩ</span></div>
      <div class="club-banner-content">
        <div style="font-family:var(--fd);font-size:22px;font-weight:900;" id="cfgClubTitle">Mon Club</div>
        <div style="font-family:var(--fd);font-size:12px;color:var(--muted);margin-top:2px;" id="cfgClubFmt">Football √† 11</div>
      </div>
    </div>
    <div class="fsec">
      <div class="fsec-title">ü™™ Identit√©</div>
      <div class="irow"><label class="ilabel">Nom du club</label><input class="ifield" id="cfgName" type="text"></div>
      <div class="irow"><label class="ilabel">Saison</label><input class="ifield" id="cfgSeason" type="text" placeholder="2025-2026"></div>
      <div class="irow"><label class="ilabel">Cat√©gorie</label>
        <select class="ifield" id="cfgCat">
          <option>Senior</option><option>U18</option><option>U15</option><option>U13</option><option>U11</option><option>U9</option><option>V√©t√©rans</option>
        </select>
      </div>
      <div class="irow"><label class="ilabel">Format</label>
        <div class="tag-row">
          <button class="tag" id="cfgFmt11" onclick="setCfgFmt(11)">‚öΩ Football √† 11</button>
          <button class="tag" id="cfgFmt8" onclick="setCfgFmt(8)">‚öΩ Football √† 8</button>
        </div>
      </div>
    </div>
    <div class="fsec">
      <div class="fsec-title">üñº Logo du club</div>
      <div class="logo-zone" onclick="document.getElementById('logoFile').click()">
        <div id="logoPreview" style="font-size:40px;margin-bottom:8px;">‚öΩ</div>
        <div style="font-family:var(--fd);font-size:12px;color:var(--muted);letter-spacing:1px;">APPUIE POUR CHOISIR TON LOGO</div>
        <input type="file" id="logoFile" accept="image/*" style="display:none" onchange="uploadLogo(this)">
      </div>
    </div>
    <div class="fsec">
      <div class="fsec-title">üé® Couleurs</div>
      <label class="ilabel" style="margin-bottom:8px">Couleur principale</label>
      <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:14px;" id="primarySwatches">
        <div class="swatch sel" style="background:#00d4ff" onclick="pickColor('p','#00d4ff',this)"></div>
        <div class="swatch" style="background:#ff4444" onclick="pickColor('p','#ff4444',this)"></div>
        <div class="swatch" style="background:#00e676" onclick="pickColor('p','#00e676',this)"></div>
        <div class="swatch" style="background:#ffd600" onclick="pickColor('p','#ffd600',this)"></div>
        <div class="swatch" style="background:#ff6b35" onclick="pickColor('p','#ff6b35',this)"></div>
        <div class="swatch" style="background:#9c27b0" onclick="pickColor('p','#9c27b0',this)"></div>
        <div class="swatch" style="background:#ffffff;border:1px solid #333" onclick="pickColor('p','#ffffff',this)"></div>
        <div class="swatch" style="background:#ff69b4" onclick="pickColor('p','#ff69b4',this)"></div>
      </div>
      <label class="ilabel" style="margin-bottom:8px">Couleur secondaire</label>
      <div style="display:flex;gap:8px;flex-wrap:wrap;" id="secondarySwatches">
        <div class="swatch sel" style="background:#111827;border:1px solid #333" onclick="pickColor('s','#111827',this)"></div>
        <div class="swatch" style="background:#ff4444" onclick="pickColor('s','#ff4444',this)"></div>
        <div class="swatch" style="background:#ffffff;border:1px solid #333" onclick="pickColor('s','#ffffff',this)"></div>
        <div class="swatch" style="background:#ffd600" onclick="pickColor('s','#ffd600',this)"></div>
        <div class="swatch" style="background:#00d4ff" onclick="pickColor('s','#00d4ff',this)"></div>
        <div class="swatch" style="background:#1a1a2e;border:1px solid #333" onclick="pickColor('s','#1a1a2e',this)"></div>
        <div class="swatch" style="background:#2e7d32" onclick="pickColor('s','#2e7d32',this)"></div>
        <div class="swatch" style="background:#b71c1c" onclick="pickColor('s','#b71c1c',this)"></div>
      </div>
    </div>
    <button class="btn-p" onclick="saveClubConfig()">üíæ SAUVEGARDER LE CLUB</button>
    <button class="btn-d" onclick="deleteClub()" style="margin-top:4px">üóë Supprimer ce club</button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê VUE FICHE JOUEUR ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="screenSheet" class="screen">
  <div class="hdr">
    <button onclick="closeSheet()" style="background:none;border:none;color:var(--cp);font-size:22px;cursor:pointer;padding:2px 8px;">‚Üê</button>
    <div class="hdr-info" style="flex:1"><div class="hdr-name" id="sheetHdrName">Fiche joueur</div></div>
    <button onclick="editCurrentPlayer()" style="background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:6px 12px;color:var(--text);font-family:var(--fd);font-size:12px;font-weight:700;cursor:pointer;">‚úèÔ∏è √âDITER</button>
  </div>
  <div style="padding:12px" id="sheetContent"></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODAL JOUEUR ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="modal-ov" id="modalPlayer">
  <div class="modal">
    <div class="modal-title" id="modalPlayerTitle">‚ûï Nouveau joueur</div>

    <div class="fsec">
      <div class="fsec-title">ü™™ Identit√©</div>
      <div class="i2">
        <div class="irow"><label class="ilabel">Pr√©nom</label><input class="ifield" id="pPrenom" type="text" placeholder="Pr√©nom"></div>
        <div class="irow"><label class="ilabel">Nom</label><input class="ifield" id="pNom" type="text" placeholder="NOM"></div>
      </div>
      <div class="i2">
        <div class="irow"><label class="ilabel">Date de naissance</label><input class="ifield" id="pDob" type="date"></div>
        <div class="irow"><label class="ilabel">N¬∞ maillot</label><input class="ifield" id="pNum" type="number" min="1" max="99" placeholder="10"></div>
      </div>
      <div class="irow"><label class="ilabel">Cat√©gorie</label>
        <select class="ifield" id="pCat">
          <option>Senior</option><option>U18</option><option>U15</option><option>U13</option><option>U11</option><option>U9</option><option>V√©t√©rans</option>
        </select>
      </div>
    </div>

    <div class="fsec">
      <div class="fsec-title">‚öΩ Poste & Technique</div>
      <div class="irow"><label class="ilabel">Poste</label>
        <select class="ifield" id="pPoste">
          <option value="GK">Gardien (GK)</option>
          <option value="DC">D√©fenseur Central (DC)</option>
          <option value="DL">D√©fenseur Gauche (DL)</option>
          <option value="DR">D√©fenseur Droit (DR)</option>
          <option value="MDC">Milieu D√©fensif (MDC)</option>
          <option value="MC">Milieu Central (MC)</option>
          <option value="MG">Milieu Gauche (MG)</option>
          <option value="MD">Milieu Droit (MD)</option>
          <option value="MO">Milieu Offensif (MO)</option>
          <option value="AG">Ailier Gauche (AG)</option>
          <option value="AD">Ailier Droit (AD)</option>
          <option value="ATT">Attaquant (ATT)</option>
        </select>
      </div>
      <div class="irow"><label class="ilabel">Pied fort</label>
        <div class="tag-row" style="margin-top:4px">
          <button class="tag" id="pd-d" onclick="setPied('Droit')">ü¶µ Droit</button>
          <button class="tag" id="pd-g" onclick="setPied('Gauche')">ü¶µ Gauche</button>
          <button class="tag" id="pd-2" onclick="setPied('Les deux')">‚ö° Les deux</button>
        </div>
      </div>
      <div class="i2">
        <div class="irow"><label class="ilabel">Taille (cm)</label><input class="ifield" id="pTaille" type="number" placeholder="175"></div>
        <div class="irow"><label class="ilabel">Poids (kg)</label><input class="ifield" id="pPoids" type="number" placeholder="70"></div>
      </div>
    </div>

    <div class="fsec">
      <div class="fsec-title">üìã Administratif</div>
      <div class="irow"><label class="ilabel">N¬∞ de licence</label><input class="ifield" id="pLicence" type="text" placeholder="123456789"></div>
      <div class="irow"><label class="ilabel">T√©l√©phone joueur</label><input class="ifield" id="pTel" type="tel" placeholder="06 xx xx xx xx"></div>
      <div class="irow"><label class="ilabel">Email</label><input class="ifield" id="pEmail" type="email" placeholder="joueur@email.com"></div>
      <div class="irow"><label class="ilabel">Adresse</label><input class="ifield" id="pAdresse" type="text" placeholder="Adresse compl√®te"></div>
    </div>

    <div class="fsec">
      <div class="fsec-title">üë®‚Äçüë©‚Äçüë¶ Parents / Tuteurs</div>
      <div class="irow"><label class="ilabel">Nom parent 1</label><input class="ifield" id="pP1" type="text" placeholder="Pr√©nom NOM"></div>
      <div class="irow"><label class="ilabel">T√©l parent 1</label><input class="ifield" id="pP1Tel" type="tel" placeholder="06 xx xx xx xx"></div>
      <div class="irow"><label class="ilabel">Nom parent 2</label><input class="ifield" id="pP2" type="text" placeholder="Pr√©nom NOM"></div>
      <div class="irow"><label class="ilabel">T√©l parent 2</label><input class="ifield" id="pP2Tel" type="tel" placeholder="06 xx xx xx xx"></div>
    </div>

    <div class="fsec">
      <div class="fsec-title">üìä Stats saison</div>
      <div class="i2">
        <div class="irow"><label class="ilabel">Matchs jou√©s</label><input class="ifield" id="sMj" type="number" min="0" value="0"></div>
        <div class="irow"><label class="ilabel">Buts</label><input class="ifield" id="sButs" type="number" min="0" value="0"></div>
      </div>
      <div class="i2">
        <div class="irow"><label class="ilabel">Passes d√©c.</label><input class="ifield" id="sPasses" type="number" min="0" value="0"></div>
        <div class="irow"><label class="ilabel">Tirs cadr√©s</label><input class="ifield" id="sTirs" type="number" min="0" value="0"></div>
      </div>
      <div class="i2">
        <div class="irow"><label class="ilabel">Cartons jaunes</label><input class="ifield" id="sCJ" type="number" min="0" value="0"></div>
        <div class="irow"><label class="ilabel">Cartons rouges</label><input class="ifield" id="sCR" type="number" min="0" value="0"></div>
      </div>
      <div class="irow"><label class="ilabel">Minutes jou√©es</label><input class="ifield" id="sMin" type="number" min="0" value="0"></div>
    </div>

    <div class="modal-btns">
      <button class="btn-mc" onclick="closeModal('modalPlayer')">Annuler</button>
      <button class="btn-mk" id="btnSaveP" onclick="savePlayer()">‚úì ENREGISTRER</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODAL CR√âER CLUB ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="modal-ov" id="modalNewClub">
  <div class="modal">
    <div class="modal-title">üèü Nouveau club</div>
    <div class="irow"><label class="ilabel">Nom du club</label><input class="ifield" id="ncName" type="text" placeholder="Ex: FC Chauvigny"></div>
    <div class="irow"><label class="ilabel">Format</label>
      <div class="tag-row" style="margin-top:4px">
        <button class="tag sel" id="ncF11" onclick="setNcFmt(11)">‚öΩ Football √† 11</button>
        <button class="tag" id="ncF8" onclick="setNcFmt(8)">‚öΩ Football √† 8</button>
      </div>
    </div>
    <div class="irow" style="margin-top:8px"><label class="ilabel">Couleur principale</label>
      <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:6px" id="ncColors">
        <div class="swatch sel" style="background:#00d4ff" onclick="setNcColor('#00d4ff',this)"></div>
        <div class="swatch" style="background:#ff4444" onclick="setNcColor('#ff4444',this)"></div>
        <div class="swatch" style="background:#00e676" onclick="setNcColor('#00e676',this)"></div>
        <div class="swatch" style="background:#ffd600" onclick="setNcColor('#ffd600',this)"></div>
        <div class="swatch" style="background:#ff6b35" onclick="setNcColor('#ff6b35',this)"></div>
        <div class="swatch" style="background:#9c27b0" onclick="setNcColor('#9c27b0',this)"></div>
        <div class="swatch" style="background:#ff69b4" onclick="setNcColor('#ff69b4',this)"></div>
        <div class="swatch" style="background:#ffffff;border:1px solid #333" onclick="setNcColor('#ffffff',this)"></div>
      </div>
    </div>
    <div class="modal-btns">
      <button class="btn-mc" onclick="closeModal('modalNewClub')">Annuler</button>
      <button class="btn-mk" onclick="createClub()">‚úì CR√âER LE CLUB</button>
    </div>
  </div>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STATE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let clubs=[], cid=null;
let editPid=null, selPied='', cfgFmt=11, ncFmt=11, ncColor='#00d4ff';
let cfgPrimary='#00d4ff', cfgSecondary='#111827';
let statCat='buts', statusFilter='all', catFilter='all', injType='injured';

const save=()=>localStorage.setItem('cm2_clubs',JSON.stringify(clubs));
const load=()=>{const d=localStorage.getItem('cm2_clubs');if(d)clubs=JSON.parse(d);};
const club=()=>clubs.find(c=>c.id===cid)||null;
const players=()=>club()?.players||[];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// INIT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
window.onload=()=>{
  load();
  renderSelector();
  document.getElementById('injFrom').valueAsDate=new Date();
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SCREENS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showScreen(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}
function goSelector(){showScreen('screenSelector');renderSelector();}
function closeModal(id){document.getElementById(id).classList.remove('open');}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// S√âLECTEUR
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderSelector(){
  const wrap=document.getElementById('selectorCards');
  if(!clubs.length){
    wrap.innerHTML='<div class="empty"><div class="empty-icon">üèü</div><div style="font-family:var(--fd);font-size:14px;letter-spacing:1px;">Cr√©e ton premier club ci-dessous</div></div>';
    document.getElementById('btnEnter').style.display='none';
    return;
  }
  wrap.innerHTML=clubs.map(c=>{
    const chosen=c.id===cid;
    const logoHtml=c.logo?`<img src="${c.logo}" alt="">`:`<span>${c.emoji||'‚öΩ'}</span>`;
    const cnt=c.players?.length||0;
    return `<div class="club-sel-card ${chosen?'chosen':''}" style="${chosen?`border-color:${c.primary||'#00d4ff'}`:''};" onclick="selectClub('${c.id}')">
      <div class="club-thumb">${logoHtml}</div>
      <div>
        <div class="club-sel-name" style="color:${c.primary||'#00d4ff'}">${c.name}</div>
        <div class="club-sel-fmt">${c.format===8?'Football √† 8':'Football √† 11'} ¬∑ ${c.category||'Senior'}</div>
        <div class="club-sel-cnt" style="color:${c.primary||'#00d4ff'}">${cnt} joueur${cnt!==1?'s':''}</div>
      </div>
    </div>`;
  }).join('');
  document.getElementById('btnEnter').style.display=cid?'':'none';
}

function selectClub(id){cid=id;renderSelector();}

function enterClub(){
  if(!cid)return;
  applyTheme();
  renderEffectif();
  renderStats();
  renderInjuries();
  renderConfig();
  showScreen('screenApp');
  showTab('effectif',document.querySelector('.tab'));
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TH√àME
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function applyTheme(){
  const c=club();if(!c)return;
  const p=c.primary||'#00d4ff', s=c.secondary||'#111827';
  document.documentElement.style.setProperty('--cp',p);
  document.documentElement.style.setProperty('--cs',s);
  document.getElementById('hdrName').textContent=c.name;
  document.getElementById('hdrSub').textContent=`${c.format===8?'FOOT √Ä 8':'FOOT √Ä 11'} ¬∑ ${c.category||'SENIOR'}${c.season?' ¬∑ '+c.season:''}`;
  const logo=document.getElementById('hdrLogo');
  logo.innerHTML=c.logo?`<img src="${c.logo}" alt="" style="width:100%;height:100%;object-fit:contain;">`:(c.emoji||'‚öΩ');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TABS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showTab(id,el){
  document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.getElementById('panel-'+id)?.classList.add('active');
  if(el)el.classList.add('active');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// EFFECTIF
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderEffectif(){
  const c=club();if(!c)return;
  const ps=c.players||[];
  document.getElementById('effTitle').textContent=`Effectif ‚Äî ${ps.length} joueur${ps.length!==1?'s':''}`;
  // Category filters
  const cats=[...new Set(ps.map(p=>p.cat||'Senior'))];
  const cf=document.getElementById('catFilters');
  cf.innerHTML=`<button class="tag ${catFilter==='all'?'sel':''}" onclick="setCatFilter('all',this)">Tous</button>`
    +cats.map(c=>`<button class="tag ${catFilter===c?'sel':''}" onclick="setCatFilter('${c}',this)">${c}</button>`).join('');
  // Filter & sort
  let fp=ps.filter(p=>{
    if(statusFilter!=='all'&&(p.status||'ok')!==statusFilter)return false;
    if(catFilter!=='all'&&(p.cat||'Senior')!==catFilter)return false;
    return true;
  }).sort((a,b)=>(+a.num||99)-(+b.num||99));
  const list=document.getElementById('playerList');
  if(!fp.length){list.innerHTML='<div class="empty"><div class="empty-icon">üîç</div>Aucun joueur trouv√©</div>';return;}
  list.innerHTML=fp.map(p=>{
    const age=p.dob?Math.floor((Date.now()-new Date(p.dob))/(365.25*864e5)):null;
    const st=p.status||'ok';
    const bcls=st==='injured'?'b-injured':st==='unavailable'?'b-unavailable':st==='suspended'?'b-suspended':'b-ok';
    const btxt=st==='injured'?'üî¥ Bless√©':st==='unavailable'?'üü° Indispo':st==='suspended'?'üü† Suspendu':'‚úÖ Dispo';
    const s=p.stats||{};
    return `<div class="pcard ${st!=='ok'?st:''}" onclick="openSheet('${p.id}')">
      <div class="pcard-top">
        <div class="pnum">${p.num||'?'}</div>
        <div class="pname-block">
          <div class="pfullname">${p.prenom||''} ${p.nom||''}</div>
          <div class="pmeta">${p.poste||''} ¬∑ Pied ${p.pied||'?'}${age?` ¬∑ ${age} ans`:''} ¬∑ ${p.cat||'Senior'}</div>
        </div>
        <div class="pbadge ${bcls}">${btxt}</div>
      </div>
      <div class="pstats-mini">
        <div class="psm"><div class="psm-v">${s.matchs||0}</div><div class="psm-l">MATCHS</div></div>
        <div class="psm"><div class="psm-v">${s.buts||0}</div><div class="psm-l">BUTS</div></div>
        <div class="psm"><div class="psm-v">${s.passes||0}</div><div class="psm-l">PASSES</div></div>
        <div class="psm"><div class="psm-v">${s.minutes||0}</div><div class="psm-l">MIN</div></div>
      </div>
    </div>`;
  }).join('');
}

function setCatFilter(f,el){
  catFilter=f;
  document.querySelectorAll('#catFilters .tag').forEach(b=>b.classList.remove('sel'));
  if(el)el.classList.add('sel');
  renderEffectif();
}

function setStatusFilter(f,el){
  statusFilter=f;
  ['sf-all','sf-ok','sf-injured','sf-unavailable'].forEach(id=>document.getElementById(id)?.classList.remove('sel'));
  if(el)el.classList.add('sel');
  renderEffectif();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// FICHE JOUEUR
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function openSheet(pid){
  const c=club();if(!c)return;
  const p=c.players.find(x=>x.id===pid);if(!p)return;
  editPid=pid;
  document.getElementById('sheetHdrName').textContent=`${p.prenom||''} ${p.nom||''}`;
  const age=p.dob?Math.floor((Date.now()-new Date(p.dob))/(365.25*864e5)):null;
  const dob=p.dob?new Date(p.dob).toLocaleDateString('fr-FR'):'‚Äî';
  const st=p.status||'ok';
  const stTxt=st==='injured'?'üî¥ Bless√©':st==='unavailable'?'üü° Indisponible':st==='suspended'?'üü† Suspendu':'‚úÖ Disponible';
  const s=p.stats||{};
  document.getElementById('sheetContent').innerHTML=`
    <div class="sheet-hdr">
      <div class="sheet-num">${p.num||'?'}</div>
      <div class="sheet-id">
        <div class="sheet-name">${p.prenom||''} ${p.nom||''}</div>
        <div class="sheet-pos">${p.poste||'‚Äî'} ¬∑ Pied ${p.pied||'?'}</div>
        ${age?`<div class="sheet-age">${age} ans ¬∑ n√© le ${dob}</div>`:''}
        <div style="margin-top:6px;font-family:var(--fd);font-size:13px;">${stTxt}</div>
      </div>
    </div>
    <div class="sec" style="margin-top:0">üìä Stats saison</div>
    <div class="stats-grid">
      <div class="sbox"><div class="sbox-v">${s.matchs||0}</div><div class="sbox-l">MATCHS</div></div>
      <div class="sbox"><div class="sbox-v">${s.buts||0}</div><div class="sbox-l">BUTS</div></div>
      <div class="sbox"><div class="sbox-v">${s.passes||0}</div><div class="sbox-l">PASSES</div></div>
      <div class="sbox"><div class="sbox-v">${s.tirs||0}</div><div class="sbox-l">TIRS</div></div>
      <div class="sbox"><div class="sbox-v">${s.minutes||0}</div><div class="sbox-l">MINUTES</div></div>
      <div class="sbox"><div class="sbox-v" style="color:var(--yellow)">${s.cj||0}üü® ${s.cr||0}üü•</div><div class="sbox-l">CARTONS</div></div>
    </div>
    <div class="sec">üìã Informations</div>
    <div class="info-grid">
      ${p.licence?`<div class="ibox"><div class="ilbl">Licence</div><div class="ival">${p.licence}</div></div>`:``}
      ${p.cat?`<div class="ibox"><div class="ilbl">Cat√©gorie</div><div class="ival">${p.cat}</div></div>`:``}
      ${p.taille?`<div class="ibox"><div class="ilbl">Taille</div><div class="ival">${p.taille} cm</div></div>`:``}
      ${p.poids?`<div class="ibox"><div class="ilbl">Poids</div><div class="ival">${p.poids} kg</div></div>`:``}
      ${p.tel?`<div class="ibox"><div class="ilbl">T√©l√©phone</div><div class="ival"><a href="tel:${p.tel}">${p.tel}</a></div></div>`:``}
      ${p.email?`<div class="ibox wide"><div class="ilbl">Email</div><div class="ival"><a href="mailto:${p.email}">${p.email}</a></div></div>`:``}
      ${p.adresse?`<div class="ibox wide"><div class="ilbl">Adresse</div><div class="ival">${p.adresse}</div></div>`:``}
      ${p.p1?`<div class="ibox"><div class="ilbl">Parent 1</div><div class="ival">${p.p1}${p.p1tel?`<br><a href="tel:${p.p1tel}" style="font-size:12px">${p.p1tel}</a>`:''}</div></div>`:``}
      ${p.p2?`<div class="ibox"><div class="ilbl">Parent 2</div><div class="ival">${p.p2}${p.p2tel?`<br><a href="tel:${p.p2tel}" style="font-size:12px">${p.p2tel}</a>`:''}</div></div>`:``}
    </div>
    ${p.injNote?`<div class="sec">üè• Situation m√©dicale</div><div style="background:rgba(255,68,68,.1);border:1px solid rgba(255,68,68,.3);border-radius:10px;padding:11px;font-family:var(--fb);font-size:13px;color:var(--red);margin-bottom:12px;">${p.injNote}${p.retour?`<br><span style="color:var(--yellow);font-family:var(--fd);font-size:12px;">‚Ü© Retour pr√©vu : ${new Date(p.retour).toLocaleDateString('fr-FR')}</span>`:''}</div>`:``}
    <button class="btn-d" onclick="deletePlayer('${p.id}')">üóë Supprimer ce joueur</button>
  `;
  showScreen('screenSheet');
}

function closeSheet(){
  showScreen('screenApp');
  renderEffectif();
}

function editCurrentPlayer(){
  const c=club();if(!c||!editPid)return;
  const p=c.players.find(x=>x.id===editPid);if(!p)return;
  openPlayerModal(p);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MODAL JOUEUR
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function openPlayerModal(p=null){
  editPid=p?p.id:null;
  selPied='';
  document.getElementById('modalPlayerTitle').textContent=p?'‚úèÔ∏è Modifier le joueur':'‚ûï Nouveau joueur';
  document.getElementById('btnSaveP').textContent=p?'‚úì METTRE √Ä JOUR':'‚úì ENREGISTRER';
  // Reset all fields
  ['pPrenom','pNom','pDob','pNum','pLicence','pTel','pEmail','pAdresse','pP1','pP1Tel','pP2','pP2Tel','pTaille','pPoids'].forEach(id=>{const el=document.getElementById(id);if(el)el.value='';});
  ['sMj','sButs','sPasses','sTirs','sCJ','sCR','sMin'].forEach(id=>{const el=document.getElementById(id);if(el)el.value='0';});
  ['pd-d','pd-g','pd-2'].forEach(id=>document.getElementById(id)?.classList.remove('sel'));
  if(p){
    document.getElementById('pPrenom').value=p.prenom||'';
    document.getElementById('pNom').value=p.nom||'';
    document.getElementById('pDob').value=p.dob||'';
    document.getElementById('pNum').value=p.num||'';
    document.getElementById('pPoste').value=p.poste||'GK';
    document.getElementById('pCat').value=p.cat||'Senior';
    document.getElementById('pLicence').value=p.licence||'';
    document.getElementById('pTel').value=p.tel||'';
    document.getElementById('pEmail').value=p.email||'';
    document.getElementById('pAdresse').value=p.adresse||'';
    document.getElementById('pP1').value=p.p1||'';
    document.getElementById('pP1Tel').value=p.p1tel||'';
    document.getElementById('pP2').value=p.p2||'';
    document.getElementById('pP2Tel').value=p.p2tel||'';
    document.getElementById('pTaille').value=p.taille||'';
    document.getElementById('pPoids').value=p.poids||'';
    selPied=p.pied||'';
    const piedMap={'Droit':'pd-d','Gauche':'pd-g','Les deux':'pd-2'};
    if(piedMap[selPied])document.getElementById(piedMap[selPied])?.classList.add('sel');
    const s=p.stats||{};
    document.getElementById('sMj').value=s.matchs||0;
    document.getElementById('sButs').value=s.buts||0;
    document.getElementById('sPasses').value=s.passes||0;
    document.getElementById('sTirs').value=s.tirs||0;
    document.getElementById('sCJ').value=s.cj||0;
    document.getElementById('sCR').value=s.cr||0;
    document.getElementById('sMin').value=s.minutes||0;
  }
  document.getElementById('modalPlayer').classList.add('open');
}

function setPied(v){
  selPied=v;
  document.getElementById('pd-d').classList.toggle('sel',v==='Droit');
  document.getElementById('pd-g').classList.toggle('sel',v==='Gauche');
  document.getElementById('pd-2').classList.toggle('sel',v==='Les deux');
}

function savePlayer(){
  const c=club();if(!c)return;
  if(!c.players)c.players=[];
  const prenom=document.getElementById('pPrenom').value.trim();
  const nom=document.getElementById('pNom').value.trim();
  if(!prenom&&!nom){alert('Saisis au moins le nom ou le pr√©nom');return;}
  const s=p=>parseInt(document.getElementById(p)?.value)||0;
  const pd={
    id:editPid||Date.now().toString(),
    prenom,nom,
    dob:document.getElementById('pDob').value,
    num:document.getElementById('pNum').value,
    poste:document.getElementById('pPoste').value,
    cat:document.getElementById('pCat').value,
    pied:selPied,
    licence:document.getElementById('pLicence').value.trim(),
    tel:document.getElementById('pTel').value.trim(),
    email:document.getElementById('pEmail').value.trim(),
    adresse:document.getElementById('pAdresse').value.trim(),
    p1:document.getElementById('pP1').value.trim(),
    p1tel:document.getElementById('pP1Tel').value.trim(),
    p2:document.getElementById('pP2').value.trim(),
    p2tel:document.getElementById('pP2Tel').value.trim(),
    taille:document.getElementById('pTaille').value,
    poids:document.getElementById('pPoids').value,
    stats:{matchs:s('sMj'),buts:s('sButs'),passes:s('sPasses'),tirs:s('sTirs'),cj:s('sCJ'),cr:s('sCR'),minutes:s('sMin')},
    status:'ok'
  };
  if(editPid){
    const idx=c.players.findIndex(x=>x.id===editPid);
    if(idx>=0){
      pd.status=c.players[idx].status||'ok';
      pd.injNote=c.players[idx].injNote;
      pd.retour=c.players[idx].retour;
      c.players[idx]=pd;
    }
  }else{c.players.push(pd);}
  save();
  closeModal('modalPlayer');
  if(document.getElementById('screenSheet').classList.contains('active'))openSheet(pd.id);
  renderEffectif();
  renderStats();
}

function deletePlayer(pid){
  if(!confirm('Supprimer ce joueur d√©finitivement ?'))return;
  const c=club();if(!c)return;
  c.players=c.players.filter(p=>p.id!==pid);
  save();
  closeSheet();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STATS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function setStatCat(cat,el){
  statCat=cat;
  document.querySelectorAll('#panel-stats .tag').forEach(b=>b.classList.remove('sel'));
  if(el)el.classList.add('sel');
  renderStats();
}

function renderStats(){
  const ps=players();
  const labels={buts:'‚öΩ Meilleurs buteurs',passes:'üéÅ Passeurs d√©cisifs',matchs:'üìÖ Matchs jou√©s',minutes:'‚è± Minutes jou√©es',tirs:'üéØ Tirs cadr√©s',cartons:'üü® Cartons'};
  const getVal=p=>{
    const s=p.stats||{};
    if(statCat==='cartons')return(s.cj||0)+(s.cr||0)*2;
    if(statCat==='passes')return s.passes||0;
    if(statCat==='matchs')return s.matchs||0;
    if(statCat==='minutes')return s.minutes||0;
    if(statCat==='tirs')return s.tirs||0;
    return s.buts||0;
  };
  const sorted=[...ps].filter(p=>getVal(p)>0).sort((a,b)=>getVal(b)-getVal(a));
  const div=document.getElementById('statsRanking');
  if(!sorted.length){div.innerHTML='<div class="empty"><div class="empty-icon">üìä</div>Aucune stat enregistr√©e pour cette cat√©gorie</div>';return;}
  div.innerHTML=`<div style="font-family:var(--fd);font-size:11px;color:var(--muted);letter-spacing:2px;margin-bottom:10px;text-transform:uppercase;">${labels[statCat]}</div>`
    +sorted.map((p,i)=>{
      const v=getVal(p);
      const disp=statCat==='cartons'?`${(p.stats?.cj||0)}üü® ${(p.stats?.cr||0)}üü•`:`${v}`;
      return `<div class="rank-row" onclick="openSheet('${p.id}')">
        <div class="rank-pos ${i<3?'gold':''}">${i===0?'ü•á':i===1?'ü•à':i===2?'ü•â':i+1}</div>
        <div style="font-family:var(--fd);font-size:13px;color:var(--muted);min-width:26px;">${p.num||'?'}</div>
        <div class="rank-name">${p.prenom||''} ${p.nom||''}</div>
        <div class="rank-val">${disp}</div>
      </div>`;
    }).join('');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// BLESSURES
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function setInjType(t,bid){
  injType=t;
  ['it-injured','it-unavailable','it-suspended'].forEach(id=>document.getElementById(id)?.classList.remove('sel'));
  document.getElementById(bid)?.classList.add('sel');
}

function renderInjuries(){
  const c=club();if(!c)return;
  // Populate select
  const sel=document.getElementById('injPlayer');
  sel.innerHTML='<option value="">‚Äî Choisir un joueur ‚Äî</option>'
    +(c.players||[]).sort((a,b)=>(+a.num||99)-(+b.num||99))
    .map(p=>`<option value="${p.id}">${p.num||'?'} ‚Äì ${p.prenom||''} ${p.nom||''}</option>`).join('');
  // Injured list
  const injured=(c.players||[]).filter(p=>p.status&&p.status!=='ok');
  const div=document.getElementById('injuryList');
  if(!injured.length){div.innerHTML='<div class="empty"><div class="empty-icon">‚úÖ</div>Tous les joueurs sont disponibles</div>';return;}
  div.innerHTML=injured.map(p=>{
    const icon=p.status==='injured'?'üî¥':p.status==='suspended'?'üü†':'üü°';
    const lbl=p.status==='injured'?'Bless√©':p.status==='suspended'?'Suspendu':'Indisponible';
    return `<div class="inj-card">
      <div class="inj-info">
        <div style="font-family:var(--fd);font-size:10px;color:var(--muted);letter-spacing:1px;">${icon} ${lbl.toUpperCase()}</div>
        <div class="inj-name">${p.num||'?'} ¬∑ ${p.prenom||''} ${p.nom||''}</div>
        ${p.injNote?`<div class="inj-detail">${p.injNote}</div>`:''}
        ${p.retour?`<div class="inj-return">‚Ü© Retour pr√©vu : ${new Date(p.retour).toLocaleDateString('fr-FR')}</div>`:''}
      </div>
      <div style="display:flex;flex-direction:column;gap:6px;margin-left:auto;">
        <button onclick="clearInj('${p.id}')" style="background:rgba(0,230,118,.12);border:1px solid rgba(0,230,118,.25);border-radius:7px;padding:5px 10px;color:var(--green);font-family:var(--fd);font-size:11px;font-weight:700;cursor:pointer;white-space:nowrap;">‚úì R√©tabli</button>
        <button onclick="openSheet('${p.id}')" style="background:var(--surface2);border:1px solid var(--border);border-radius:7px;padding:5px 10px;color:var(--muted);font-family:var(--fd);font-size:11px;font-weight:700;cursor:pointer;">Fiche</button>
      </div>
    </div>`;
  }).join('');
}

function addInjury(){
  const c=club();if(!c)return;
  const sel=document.getElementById('injPlayer');
  if(!sel.value){alert('S√©lectionne un joueur');return;}
  const p=c.players.find(x=>x.id===sel.value);if(!p)return;
  p.status=injType;
  p.injNote=document.getElementById('injDesc').value.trim();
  p.retour=document.getElementById('injTo').value;
  save();
  renderInjuries();
  renderEffectif();
  sel.value='';
  document.getElementById('injDesc').value='';
  document.getElementById('injTo').value='';
}

function clearInj(pid){
  const c=club();if(!c)return;
  const p=c.players.find(x=>x.id===pid);if(!p)return;
  p.status='ok';p.injNote='';p.retour='';
  save();renderInjuries();renderEffectif();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// CONFIG CLUB
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderConfig(){
  const c=club();if(!c)return;
  cfgFmt=c.format||11;
  cfgPrimary=c.primary||'#00d4ff';
  cfgSecondary=c.secondary||'#111827';
  document.getElementById('cfgName').value=c.name||'';
  document.getElementById('cfgSeason').value=c.season||'';
  document.getElementById('cfgCat').value=c.category||'Senior';
  document.getElementById('cfgFmt11').classList.toggle('sel',cfgFmt===11);
  document.getElementById('cfgFmt8').classList.toggle('sel',cfgFmt===8);
  document.getElementById('cfgClubTitle').textContent=c.name;
  document.getElementById('cfgClubFmt').textContent=cfgFmt===8?'Football √† 8':'Football √† 11';
  const banner=document.getElementById('clubBanner');
  banner.style.background=`linear-gradient(135deg,${cfgPrimary},${cfgSecondary})`;
  const bl=document.getElementById('bannerLogo');
  bl.innerHTML=c.logo?`<img src="${c.logo}" alt="" style="height:60px;object-fit:contain;">`:(c.emoji||'‚öΩ');
  if(c.logo)document.getElementById('logoPreview').innerHTML=`<img src="${c.logo}" class="logo-preview" style="height:60px;object-fit:contain;margin:0 auto;display:block;">`;
}

function setCfgFmt(f){
  cfgFmt=f;
  document.getElementById('cfgFmt11').classList.toggle('sel',f===11);
  document.getElementById('cfgFmt8').classList.toggle('sel',f===8);
}

function pickColor(type,color,el){
  if(type==='p'){
    cfgPrimary=color;
    document.querySelectorAll('#primarySwatches .swatch').forEach(s=>s.classList.remove('sel'));
  }else{
    cfgSecondary=color;
    document.querySelectorAll('#secondarySwatches .swatch').forEach(s=>s.classList.remove('sel'));
  }
  el.classList.add('sel');
  const banner=document.getElementById('clubBanner');
  banner.style.background=`linear-gradient(135deg,${cfgPrimary},${cfgSecondary})`;
}

function uploadLogo(input){
  const file=input.files[0];if(!file)return;
  const reader=new FileReader();
  reader.onload=e=>{
    const src=e.target.result;
    document.getElementById('logoPreview').innerHTML=`<img src="${src}" style="height:60px;object-fit:contain;margin:0 auto;display:block;">`;
    document.getElementById('bannerLogo').innerHTML=`<img src="${src}" style="height:60px;object-fit:contain;">`;
    const c=club();if(!c)return;
    c.logo=src;
    // Extract dominant colors from logo
    extractColors(src, (primary, secondary)=>{
      c.primary=primary;
      c.secondary=secondary;
      cfgPrimary=primary;
      cfgSecondary=secondary;
      // Update swatches UI
      document.querySelectorAll('#primarySwatches .swatch').forEach(s=>s.classList.remove('sel'));
      document.querySelectorAll('#secondarySwatches .swatch').forEach(s=>s.classList.remove('sel'));
      // Update banner preview
      document.getElementById('clubBanner').style.background=`linear-gradient(135deg,${primary},${secondary})`;
      // Show detected colors below logo
      document.getElementById('logoPreview').innerHTML+=`
        <div style="margin-top:10px;font-family:var(--fd);font-size:11px;color:var(--muted);letter-spacing:1px;text-align:center;">COULEURS D√âTECT√âES AUTOMATIQUEMENT</div>
        <div style="display:flex;gap:8px;justify-content:center;margin-top:6px;">
          <div style="display:flex;align-items:center;gap:5px;">
            <div style="width:24px;height:24px;border-radius:6px;background:${primary};border:2px solid rgba(255,255,255,0.3);"></div>
            <span style="font-family:var(--fd);font-size:11px;color:var(--text);">Principale</span>
          </div>
          <div style="display:flex;align-items:center;gap:5px;">
            <div style="width:24px;height:24px;border-radius:6px;background:${secondary};border:2px solid rgba(255,255,255,0.3);"></div>
            <span style="font-family:var(--fd);font-size:11px;color:var(--text);">Secondaire</span>
          </div>
        </div>`;
      save();
      applyTheme();
    });
  };
  reader.readAsDataURL(file);
}

function extractColors(src, callback){
  const img=new Image();
  img.crossOrigin='Anonymous';
  img.onload=()=>{
    const canvas=document.createElement('canvas');
    const SIZE=80; // downsample for speed
    canvas.width=SIZE; canvas.height=SIZE;
    const ctx=canvas.getContext('2d');
    ctx.drawImage(img,0,0,SIZE,SIZE);
    const data=ctx.getImageData(0,0,SIZE,SIZE).data;
    // Build color buckets (quantize to 32-step bins)
    const buckets={};
    for(let i=0;i<data.length;i+=4){
      const r=data[i],g=data[i+1],b=data[i+2],a=data[i+3];
      if(a<128)continue; // skip transparent
      // Skip near-white and near-black (background noise)
      const brightness=(r+g+b)/3;
      if(brightness>230||brightness<15)continue;
      // Quantize
      const qr=Math.round(r/32)*32, qg=Math.round(g/32)*32, qb=Math.round(b/32)*32;
      const key=`${qr},${qg},${qb}`;
      buckets[key]=(buckets[key]||0)+1;
    }
    // Sort by frequency
    const sorted=Object.entries(buckets).sort((a,b)=>b[1]-a[1]);
    if(!sorted.length){callback('#00d4ff','#111827');return;}
    // Primary = most frequent non-grey color
    let primary=null, secondary=null;
    for(const [key] of sorted){
      const [r,g,b]=key.split(',').map(Number);
      const max=Math.max(r,g,b), min=Math.min(r,g,b);
      const saturation=max===0?0:(max-min)/max;
      if(saturation>0.2&&!primary){ primary=rgbToHex(r,g,b); continue; }
      if(saturation>0.15&&primary&&!secondary&&colorDistance([r,g,b],hexToRgb(primary))>80){
        secondary=rgbToHex(r,g,b); break;
      }
    }
    primary=primary||'#00d4ff';
    // Secondary: if not found, darken primary slightly
    if(!secondary){
      const [r,g,b]=hexToRgb(primary);
      secondary=rgbToHex(Math.max(0,r-60),Math.max(0,g-60),Math.max(0,b-60));
    }
    callback(primary, secondary);
  };
  img.onerror=()=>callback('#00d4ff','#111827');
  img.src=src;
}

function rgbToHex(r,g,b){
  return '#'+[r,g,b].map(v=>Math.min(255,Math.max(0,v)).toString(16).padStart(2,'0')).join('');
}
function hexToRgb(hex){
  const r=parseInt(hex.slice(1,3),16), g=parseInt(hex.slice(3,5),16), b=parseInt(hex.slice(5,7),16);
  return [r,g,b];
}
function colorDistance(a,b){
  return Math.sqrt((a[0]-b[0])**2+(a[1]-b[1])**2+(a[2]-b[2])**2);
}

function saveClubConfig(){
  const c=club();if(!c)return;
  c.name=document.getElementById('cfgName').value.trim()||c.name;
  c.season=document.getElementById('cfgSeason').value.trim();
  c.category=document.getElementById('cfgCat').value;
  c.format=cfgFmt;
  c.primary=cfgPrimary;
  c.secondary=cfgSecondary;
  save();
  applyTheme();
  renderEffectif();
  document.getElementById('cfgClubTitle').textContent=c.name;
  document.getElementById('cfgClubFmt').textContent=cfgFmt===8?'Football √† 8':'Football √† 11';
  alert('‚úÖ Club mis √† jour !');
}

function deleteClub(){
  if(!confirm('Supprimer ce club et tous ses joueurs ? Action irr√©versible.'))return;
  clubs=clubs.filter(c=>c.id!==cid);
  cid=null;
  save();
  goSelector();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// CR√âER CLUB
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function openAddClubModal(){
  ncFmt=11;ncColor='#00d4ff';
  document.getElementById('ncName').value='';
  document.getElementById('ncF11').classList.add('sel');
  document.getElementById('ncF8').classList.remove('sel');
  document.querySelectorAll('#ncColors .swatch').forEach((s,i)=>s.classList.toggle('sel',i===0));
  document.getElementById('modalNewClub').classList.add('open');
}

function setNcFmt(f){
  ncFmt=f;
  document.getElementById('ncF11').classList.toggle('sel',f===11);
  document.getElementById('ncF8').classList.toggle('sel',f===8);
}

function setNcColor(c,el){
  ncColor=c;
  document.querySelectorAll('#ncColors .swatch').forEach(s=>s.classList.remove('sel'));
  el.classList.add('sel');
}

function createClub(){
  const name=document.getElementById('ncName').value.trim();
  if(!name){alert('Saisis un nom de club');return;}
  const c={
    id:Date.now().toString(),
    name,format:ncFmt,primary:ncColor,secondary:'#111827',
    players:[],
    season:new Date().getFullYear()+'-'+(new Date().getFullYear()+1),
    category:'Senior'
  };
  clubs.push(c);
  cid=c.id;
  save();
  closeModal('modalNewClub');
  renderSelector();
  document.getElementById('btnEnter').style.display='';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// ‚ïê‚ïê‚ïê HISTORIQUE MATCHS (Coach Tracker sync) ‚ïê‚ïê‚ïê
var _chFilter = 'all';

function getTrackerHistory() {
  var d = localStorage.getItem('ct_match_history');
  return d ? JSON.parse(d) : [];
}

function renderClubHistorique() {
  var c = club(); if (!c) return;
  var allHistory = getTrackerHistory();
  var cName = (c.name || '').toLowerCase().substring(0, 4);
  var history = allHistory.filter(function(m) {
    var mHome = (m.home || '').toLowerCase();
    return mHome.indexOf(cName) !== -1 || cName.indexOf(mHome.substring(0, 4)) !== -1 || mHome === 'nous';
  });
  var titleEl = document.getElementById('clubHistoTitle');
  if (titleEl) titleEl.textContent = 'Historique ‚Äî ' + history.length + ' match' + (history.length !== 1 ? 's' : '');
  var banner = document.getElementById('syncBanner');
  if (banner) {
    banner.style.display = history.length ? 'flex' : 'none';
    if (history.length) {
      var lastDate = document.getElementById('syncLastDate');
      if (lastDate) lastDate.textContent = 'Dernier match : ' + history[0].date + (history[0].comp ? ' - ' + history[0].comp : '');
    }
  }
  var comps = [];
  history.forEach(function(m) { var c2 = m.comp || 'Match'; if (comps.indexOf(c2) === -1) comps.push(c2); });
  var fc = document.getElementById('clubHistoFilters');
  if (fc) {
    var fHtml = '<button class="tag ' + (_chFilter === 'all' ? 'sel' : '') + '" onclick="setClubHistoFilter(\'all\',this)">Tous</button>';
    comps.forEach(function(s) {
      fHtml += '<button class="tag ' + (_chFilter === s ? 'sel' : '') + '" onclick="setClubHistoFilter(this.dataset.v,this)" data-v="' + s + '">' + s + '</button>';
    });
    fc.innerHTML = fHtml;
  }
  var filtered = _chFilter === 'all' ? history : history.filter(function(m) { return (m.comp || 'Match') === _chFilter; });
  renderClubSeasonStats(filtered, c);
  var list = document.getElementById('clubHistoList');
  if (!list) return;
  if (!filtered.length) {
    var msg = allHistory.length ? 'Aucun match pour ce club.<br><small>Le nom du club doit correspondre</small>' : 'Aucun match archiv√©.<br><small>Archive depuis Coach Tracker</small>';
    list.innerHTML = '<div class="empty"><div class="empty-icon">üìÅ</div>' + msg + '</div>';
    return;
  }
  var html = '';
  filtered.forEach(function(m) {
    var res = m.scoreHome > m.scoreAway ? 'V' : m.scoreHome < m.scoreAway ? 'D' : 'N';
    var rc = res === 'V' ? 'var(--green)' : res === 'D' ? 'var(--red)' : 'var(--yellow)';
    var tirs = (m.counts && m.counts.TIR_CADRE) || 0;
    var jaunes = (m.counts && m.counts.JAUNE) || 0;
    html += '<div style="background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:12px;margin-bottom:8px;cursor:pointer" onclick="toggleClubMatchDetail(this)">';
    html += '<div style="display:flex;align-items:center;gap:10px">';
    html += '<div style="background:' + rc + ';color:#000;font-family:var(--fd);font-weight:900;font-size:13px;border-radius:6px;padding:4px 10px">' + res + '</div>';
    html += '<div style="flex:1"><div style="font-family:var(--fd);font-size:14px;font-weight:700">' + m.home + ' <span style="color:var(--cp)">' + m.scoreHome + ' - ' + m.scoreAway + '</span> ' + m.away + '</div>';
    html += '<div style="font-family:var(--fd);font-size:10px;color:var(--muted)">' + m.date + (m.comp ? ' ¬∑ ' + m.comp : '') + '</div></div>';
    html += '<div style="font-family:var(--fd);color:var(--muted)">‚Ä∫</div>';
    html += '</div>';
    html += '<div class="match-detail" style="display:none;margin-top:10px;padding-top:10px;border-top:1px solid var(--border)">';
    html += '<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:6px">';
    html += '<div style="background:var(--surface2);border-radius:8px;padding:7px;text-align:center"><div style="font-family:var(--fd);font-size:16px;font-weight:900">' + tirs + '</div><div style="font-family:var(--fd);font-size:8px;color:var(--muted)">TIRS</div></div>';
    html += '<div style="background:var(--surface2);border-radius:8px;padding:7px;text-align:center"><div style="font-family:var(--fd);font-size:16px;font-weight:900">' + jaunes + '</div><div style="font-family:var(--fd);font-size:8px;color:var(--muted)">CARTONS</div></div>';
    html += '<div style="background:var(--surface2);border-radius:8px;padding:7px;text-align:center"><div style="font-family:var(--fd);font-size:16px;font-weight:900">' + ((m.substitutions && m.substitutions.length) || 0) + '</div><div style="font-family:var(--fd);font-size:8px;color:var(--muted)">REMPL.</div></div>';
    html += '<div style="background:var(--surface2);border-radius:8px;padding:7px;text-align:center"><div style="font-family:var(--fd);font-size:16px;font-weight:900">' + ((m.roster && m.roster.length) || 0) + '</div><div style="font-family:var(--fd);font-size:8px;color:var(--muted)">JOUEURS</div></div>';
    html += '</div>';
    if (m.notes1 || m.notes2) {
      html += '<div style="font-family:var(--fd);font-size:10px;color:var(--muted);margin-top:8px;letter-spacing:1px">NOTES COACH</div>';
      if (m.notes1) html += '<div style="font-size:12px;font-style:italic;margin-top:3px">1MT: ' + m.notes1 + '</div>';
      if (m.notes2) html += '<div style="font-size:12px;font-style:italic;margin-top:3px">2MT: ' + m.notes2 + '</div>';
    }
    html += '</div></div>';
  });
  list.innerHTML = html;
}

function toggleClubMatchDetail(card) {
  var det = card.querySelector('.match-detail');
  if (det) det.style.display = det.style.display === 'none' ? '' : 'none';
}

function renderClubSeasonStats(history, c) {
  var el = document.getElementById('clubHistoSeasonStats');
  if (!el) return;
  if (!history.length) { el.innerHTML = ''; return; }
  var v = 0, n = 0, d = 0, gf = 0, ga = 0;
  history.forEach(function(m) {
    if (m.scoreHome > m.scoreAway) v++;
    else if (m.scoreHome < m.scoreAway) d++;
    else n++;
    gf += m.scoreHome || 0;
    ga += m.scoreAway || 0;
  });
  var pts = v * 3 + n;
  el.innerHTML = '<div style="background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:12px;margin-bottom:12px">'
    + '<div style="font-family:var(--fd);font-size:10px;color:var(--muted);letter-spacing:2px;margin-bottom:8px">BILAN SAISON</div>'
    + '<div style="display:grid;grid-template-columns:repeat(5,1fr);gap:6px">'
    + '<div style="text-align:center;background:rgba(0,230,118,.1);border-radius:8px;padding:8px"><div style="font-family:var(--fd);font-size:20px;font-weight:900;color:var(--green)">' + v + '</div><div style="font-family:var(--fd);font-size:8px;color:var(--muted)">V</div></div>'
    + '<div style="text-align:center;background:rgba(255,214,0,.1);border-radius:8px;padding:8px"><div style="font-family:var(--fd);font-size:20px;font-weight:900;color:var(--yellow)">' + n + '</div><div style="font-family:var(--fd);font-size:8px;color:var(--muted)">N</div></div>'
    + '<div style="text-align:center;background:rgba(255,68,68,.1);border-radius:8px;padding:8px"><div style="font-family:var(--fd);font-size:20px;font-weight:900;color:var(--red)">' + d + '</div><div style="font-family:var(--fd);font-size:8px;color:var(--muted)">D</div></div>'
    + '<div style="text-align:center;background:var(--surface2);border-radius:8px;padding:8px"><div style="font-family:var(--fd);font-size:16px;font-weight:900;color:var(--cp)">' + gf + '-' + ga + '</div><div style="font-family:var(--fd);font-size:8px;color:var(--muted)">BUTS</div></div>'
    + '<div style="text-align:center;background:var(--surface2);border-radius:8px;padding:8px"><div style="font-family:var(--fd);font-size:20px;font-weight:900;color:var(--accent2)">' + pts + '</div><div style="font-family:var(--fd);font-size:8px;color:var(--muted)">PTS</div></div>'
    + '</div></div>';
}

function setClubHistoFilter(f, el) {
  _chFilter = f;
  document.querySelectorAll('#clubHistoFilters .tag').forEach(function(b) { b.classList.remove('sel'); });
  if (el) el.classList.add('sel');
  renderClubHistorique();
}

function forceSyncFromTracker() {
  var c = club(); if (!c) return;
  var history = getTrackerHistory();
  if (!history.length) { alert('Aucun match archiv√© dans Coach Tracker.'); return; }
  if (!c.players || !c.players.length) { alert('Aucun joueur dans le Club Manager.'); return; }
  c.players.forEach(function(p) { p.stats = {matchs:0,buts:0,passes:0,tirs:0,cj:0,cr:0,minutes:0}; });
  history.forEach(function(matchData) {
    (matchData.roster || []).forEach(function(mp) {
      var cp = null;
      var mpName = (mp.name || '').toLowerCase();
      for (var j = 0; j < c.players.length; j++) {
        var p = c.players[j];
        var cpFull = ((p.prenom || '') + ' ' + (p.nom || '')).toLowerCase().trim();
        var cpLast = (p.nom || '').toLowerCase();
        if (cpFull === mpName || cpFull.indexOf(mpName) !== -1 || (cpLast.length > 3 && mpName.indexOf(cpLast.substring(0, 4)) !== -1)) {
          cp = p; break;
        }
      }
      if (!cp) return;
      if (!cp.stats) cp.stats = {matchs:0,buts:0,passes:0,tirs:0,cj:0,cr:0,minutes:0};
      cp.stats.matchs = (cp.stats.matchs || 0) + 1;
      cp.stats.buts = (cp.stats.buts || 0) + (mp.goals || 0);
      cp.stats.passes = (cp.stats.passes || 0) + (mp.assists || 0);
      cp.stats.cj = (cp.stats.cj || 0) + (mp.yellowCards || 0);
      cp.stats.cr = (cp.stats.cr || 0) + (mp.redCards || 0);
      cp.stats.minutes = (cp.stats.minutes || 0) + (mp.playtime || 0);
    });
  });
  save();
  renderStats();
  renderEffectif();
  alert('Synchronisation OK ! ' + history.length + ' match(s) traite(s).');
}

</script>

<!-- PWA Service Worker + Install Banner -->
<div id="pwaInstallBanner" style="display:none;position:fixed;bottom:0;left:0;right:0;background:linear-gradient(135deg,#1B5E20,#2E7D32);padding:12px 16px;z-index:9999;display:none;align-items:center;gap:10px;box-shadow:0 -4px 20px rgba(0,0,0,0.4);">
  <span style="font-size:24px">üèÜ</span>
  <div style="flex:1">
    <div style="font-family:'Barlow Condensed',sans-serif;font-size:13px;font-weight:900;color:#fff;letter-spacing:1px">INSTALLER CLUB MANAGER</div>
    <div style="font-family:'Barlow Condensed',sans-serif;font-size:10px;color:rgba(255,255,255,0.7)">Ajouter √† l'√©cran d'accueil</div>
  </div>
  <button id="pwaInstallBtn" style="background:#00e676;border:none;border-radius:8px;padding:8px 14px;font-family:'Barlow Condensed',sans-serif;font-size:12px;font-weight:900;cursor:pointer;letter-spacing:1px">INSTALLER</button>
  <button onclick="document.getElementById('pwaInstallBanner').style.display='none'" style="background:none;border:none;color:rgba(255,255,255,0.6);font-size:20px;cursor:pointer;padding:0 4px">√ó</button>
</div>

<script>
// PWA Install prompt
let deferredPrompt;
window.addEventListener('beforeinstallprompt', function(e) {
  e.preventDefault();
  deferredPrompt = e;
  var banner = document.getElementById('pwaInstallBanner');
  if (banner) banner.style.display = 'flex';
});
var installBtn = document.getElementById('pwaInstallBtn');
if (installBtn) {
  installBtn.addEventListener('click', function() {
    if (deferredPrompt) {
      deferredPrompt.prompt();
      deferredPrompt.userChoice.then(function(result) {
        deferredPrompt = null;
        document.getElementById('pwaInstallBanner').style.display = 'none';
      });
    }
  });
}
window.addEventListener('appinstalled', function() {
  document.getElementById('pwaInstallBanner').style.display = 'none';
});

// Service Worker registration
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('/coach-tracker/sw-cm.js').then(function(reg) {
      console.log('CM SW registered');
    }).catch(function(err) {
      console.log('CM SW failed:', err);
    });
  });
}
</script>
</body>
</html>
